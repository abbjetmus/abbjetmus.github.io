import{Q as ce}from"./QPage.3cdb06c0.js";import{a as de,e as ve,d as le,b as fe,s as me}from"./auth.fb2142c6.js";import{L as pe,M as N,E as he,N as ge,O as z,P as O,S as ee,V as j,U as W,r as Q,x as f,w as V,g as Z,G as ye,t as y,aR as _e,b1 as xe,B as J,b2 as Ce,A as re,b3 as be,y as we,j as ie,D as se,b4 as te,X as Pe,Z as qe,a2 as ke,b5 as Se,aj as X,ab as $e,q as ue,u as R,k as _,ak as M,ae as K,p as Y,l as P,m as H,z as Ie,F as G,b6 as Ve,al as Ae,n as Be,b7 as Te,b8 as Ee}from"./index.27168f00.js";import{g as ne,s as ae}from"./touch.70a9dd44.js";import{c as Ne}from"./selection.4fe86f72.js";import{M as Fe,_ as Me}from"./style.27b3fb5b.js";function De(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((l,u)=>{const i=parseFloat(l);i&&(o[u]=i)}),o}var Le=pe({name:"touch-swipe",beforeMount(e,{value:o,arg:l,modifiers:u}){if(u.mouse!==!0&&N.has.touch!==!0)return;const i=u.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:De(l),direction:ne(u),noop:he,mouseStart(n){ae(n,t)&&ge(n)&&(z(t,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(n,!0))},touchStart(n){if(ae(n,t)){const r=n.target;z(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),t.start(n)}},start(n,r){N.is.firefox===!0&&O(e,!0);const v=ee(n);t.event={x:v.left,y:v.top,time:Date.now(),mouse:r===!0,dir:!1}},move(n){if(t.event===void 0)return;if(t.event.dir!==!1){j(n);return}const r=Date.now()-t.event.time;if(r===0)return;const v=ee(n),m=v.left-t.event.x,s=Math.abs(m),c=v.top-t.event.y,p=Math.abs(c);if(t.event.mouse!==!0){if(s<t.sensitivity[1]&&p<t.sensitivity[1]){t.end(n);return}}else if(s<t.sensitivity[2]&&p<t.sensitivity[2])return;const g=s/r,C=p/r;t.direction.vertical===!0&&s<p&&s<100&&C>t.sensitivity[0]&&(t.event.dir=c<0?"up":"down"),t.direction.horizontal===!0&&s>p&&p<100&&g>t.sensitivity[0]&&(t.event.dir=m<0?"left":"right"),t.direction.up===!0&&s<p&&c<0&&s<100&&C>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&s<p&&c>0&&s<100&&C>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&s>p&&m<0&&p<100&&g>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&s>p&&m>0&&p<100&&g>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(j(n),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ne(),t.styleCleanup=$=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const b=()=>{document.body.classList.remove("no-pointer-events--children")};$===!0?setTimeout(b,50):b()}),t.handler({evt:n,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:r,distance:{x:s,y:p}})):t.end(n)},end(n){t.event!==void 0&&(W(t,"temp"),N.is.firefox===!0&&O(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),n!==void 0&&t.event.dir!==!1&&j(n),t.event=void 0)}};if(e.__qtouchswipe=t,u.mouse===!0){const n=u.mouseCapture===!0||u.mousecapture===!0?"Capture":"";z(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}N.has.touch===!0&&z(t,"main",[[e,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const l=e.__qtouchswipe;l!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&l.end(),l.handler=o.value),l.direction=ne(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(W(o,"main"),W(o,"temp"),N.is.firefox===!0&&O(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}});function Ue(){const e=new Map;return{getCache:function(o,l){return e[o]===void 0?e[o]=l:e[o]},getCacheWithFn:function(o,l){return e[o]===void 0?e[o]=l():e[o]}}}const ze={name:{required:!0},disable:Boolean},oe={setup(e,{slots:o}){return()=>y("div",{class:"q-panel scroll",role:"tabpanel"},J(o.default))}},Re={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Qe=["update:modelValue","beforeTransition","transition"];function Oe(){const{props:e,emit:o,proxy:l}=Z(),{getCacheWithFn:u}=Ue();let i,t;const n=Q(null),r=Q(null);function v(a){const d=e.vertical===!0?"up":"left";w((l.$q.lang.rtl===!0?-1:1)*(a.direction===d?1:-1))}const m=f(()=>[[Le,v,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),s=f(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),c=f(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),p=f(()=>`--q-transition-duration: ${e.transitionDuration}ms`),g=f(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),C=f(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),$=f(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);V(()=>e.modelValue,(a,d)=>{const x=q(a)===!0?B(a):-1;t!==!0&&I(x===-1?0:x<B(d)?-1:1),n.value!==x&&(n.value=x,o("beforeTransition",a,d),ye(()=>{o("transition",a,d)}))});function b(){w(1)}function D(){w(-1)}function A(a){o("update:modelValue",a)}function q(a){return a!=null&&a!==""}function B(a){return i.findIndex(d=>d.props.name===a&&d.props.disable!==""&&d.props.disable!==!0)}function L(){return i.filter(a=>a.props.disable!==""&&a.props.disable!==!0)}function I(a){const d=a!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(a===-1?s.value:c.value):null;r.value!==d&&(r.value=d)}function w(a,d=n.value){let x=d+a;for(;x>-1&&x<i.length;){const S=i[x];if(S!==void 0&&S.props.disable!==""&&S.props.disable!==!0){I(a),t=!0,o("update:modelValue",S.props.name),setTimeout(()=>{t=!1});return}x+=a}e.infinite===!0&&i.length>0&&d!==-1&&d!==i.length&&w(a,a===-1?i.length:-1)}function T(){const a=B(e.modelValue);return n.value!==a&&(n.value=a),!0}function U(){const a=q(e.modelValue)===!0&&T()&&i[n.value];return e.keepAlive===!0?[y(Ce,C.value,[y($.value===!0?u(g.value,()=>({...oe,name:g.value})):oe,{key:g.value,style:p.value},()=>a)])]:[y("div",{class:"q-panel scroll",style:p.value,key:g.value,role:"tabpanel"},[a])]}function h(){if(i.length!==0)return e.animated===!0?[y(_e,{name:r.value},U)]:U()}function k(a){return i=xe(J(a.default,[])).filter(d=>d.props!==null&&d.props.slot===void 0&&q(d.props.name)===!0),i.length}function E(){return i}return Object.assign(l,{next:b,previous:D,goTo:A}),{panelIndex:n,panelDirectives:m,updatePanelsList:k,updatePanelIndex:T,getPanelContent:h,getEnabledPanels:L,getPanels:E,isValidPanelName:q,keepAliveProps:C,needsUniqueKeepAliveWrapper:$,goToPanelByOffset:w,goToPanel:A,nextPanel:b,previousPanel:D}}var je=re({name:"QCarouselSlide",props:{...ze,imgSrc:String},setup(e,{slots:o}){const l=f(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>y("div",{class:"q-carousel__slide",style:l.value},J(o.default))}});let F=0;const We={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Xe=["update:fullscreen","fullscreen"];function Ke(){const e=Z(),{props:o,emit:l,proxy:u}=e;let i,t,n;const r=Q(!1);be(e)===!0&&V(()=>u.$route.fullPath,()=>{o.noRouteFullscreenExit!==!0&&s()}),V(()=>o.fullscreen,c=>{r.value!==c&&v()}),V(r,c=>{l("update:fullscreen",c),l("fullscreen",c)});function v(){r.value===!0?s():m()}function m(){r.value!==!0&&(r.value=!0,n=u.$el.parentNode,n.replaceChild(t,u.$el),document.body.appendChild(u.$el),F++,F===1&&document.body.classList.add("q-body--fullscreen-mixin"),i={handler:s},te.add(i))}function s(){r.value===!0&&(i!==void 0&&(te.remove(i),i=void 0),n.replaceChild(u.$el,t),r.value=!1,F=Math.max(0,F-1),F===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),u.$el.scrollIntoView!==void 0&&setTimeout(()=>{u.$el.scrollIntoView()})))}return we(()=>{t=document.createElement("span")}),ie(()=>{o.fullscreen===!0&&m()}),se(s),Object.assign(u,{toggleFullscreen:v,setFullscreen:m,exitFullscreen:s}),{inFullscreen:r,toggleFullscreen:v}}const Ye=["top","right","bottom","left"],He=["regular","flat","outline","push","unelevated"];var Ge=re({name:"QCarousel",props:{...Pe,...Re,...We,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>He.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Ye.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Xe,...Qe],setup(e,{slots:o}){const{proxy:{$q:l}}=Z(),u=qe(e,l);let i,t;const{updatePanelsList:n,getPanelContent:r,panelDirectives:v,goToPanel:m,previousPanel:s,nextPanel:c,getEnabledPanels:p,panelIndex:g}=Oe(),{inFullscreen:C}=Ke(),$=f(()=>C.value!==!0&&e.height!==void 0?{height:e.height}:{}),b=f(()=>e.vertical===!0?"vertical":"horizontal"),D=f(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(C.value===!0?" fullscreen":"")+(u.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${b.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${L.value}`:"")),A=f(()=>{const h=[e.prevIcon||l.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||l.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&l.lang.rtl===!0?h.reverse():h}),q=f(()=>e.navigationIcon||l.iconSet.carousel.navigationIcon),B=f(()=>e.navigationActiveIcon||q.value),L=f(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),I=f(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));V(()=>e.modelValue,()=>{e.autoplay&&(clearInterval(i),w())}),V(()=>e.autoplay,h=>{h?w():clearInterval(i)});function w(){const h=Se(e.autoplay)===!0?e.autoplay:5e3;i=setTimeout(h>=0?c:s,Math.abs(h))}ie(()=>{e.autoplay&&w()}),se(()=>{clearInterval(i)});function T(h,k){return y("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${h} q-carousel__navigation--${L.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[y("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},p().map(k))])}function U(){const h=[];if(e.navigation===!0){const k=o["navigation-icon"]!==void 0?o["navigation-icon"]:a=>y(X,{key:"nav"+a.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${a.active===!0?"":"in"}active`,...a.btnProps,onClick:a.onClick}),E=t-1;h.push(T("buttons",(a,d)=>{const x=a.props.name,S=g.value===d;return k({index:d,maxIndex:E,name:x,active:S,btnProps:{icon:S===!0?B.value:q.value,size:"sm",...I.value},onClick:()=>{m(x)}})}))}else if(e.thumbnails===!0){const k=e.controlColor!==void 0?` text-${e.controlColor}`:"";h.push(T("thumbnails",E=>{const a=E.props;return y("img",{key:"tmb#"+a.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${a.name===e.modelValue?"":"in"}active`+k,src:a.imgSrc||a["img-src"],onClick:()=>{m(a.name)}})}))}return e.arrows===!0&&g.value>=0&&((e.infinite===!0||g.value>0)&&h.push(y("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${b.value} absolute flex flex-center`},[y(X,{icon:A.value[0],...I.value,onClick:s})])),(e.infinite===!0||g.value<t-1)&&h.push(y("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${b.value} absolute flex flex-center`},[y(X,{icon:A.value[1],...I.value,onClick:c})]))),$e(o.control,h)}return()=>(t=n(o),y("div",{class:D.value,style:$.value},[ke("div",{class:"q-carousel__slides-container"},r(),"sl-cont",e.swipeable,()=>v.value)].concat(U())))}});const Ze={key:1,class:"col column full-width full-height"},Je=["src"],et={key:2,class:"col full-width full-height"},tt=ue({__name:"CarouselComponent",props:{presentationId:{type:String,required:!0}},setup(e){const o=e,l=Q(1),u=de(ve(le,"presentations",o.presentationId,"slides"));return(i,t)=>R(u).length>0?(_(),M(Ge,{key:0,animated:"",class:"full-height flex flex-center full-width",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=n=>l.value=n),navigation:"",infinite:"","keep-alive":"",autoplay:R(u)[l.value-1].time*1e3,"transition-duration":"500","transition-prev":"slide-right","transition-next":"slide-left"},{default:K(()=>[(_(!0),P(G,null,H(R(u),(n,r)=>(_(),M(je,{class:"full-height full-width flex flex-center",key:r,name:r+1},{default:K(()=>[n.type=="Editor"?(_(),M(R(Fe),{key:0,modelValue:n.content,"onUpdate:modelValue":v=>n.content=v},null,8,["modelValue","onUpdate:modelValue"])):n.type=="IFrame"?(_(),P("div",Ze,[n.content.includes("http")?(_(),P("iframe",{key:0,style:{width:"100vw",height:"100%"},class:"col",src:n.content,sandbox:""},null,8,Je)):Y("",!0)])):(_(),P("div",et,[Ie(Me,{rssUrl:n.content},null,8,["rssUrl"])]))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue","autoplay"])):Y("",!0)}});var nt=Ve(tt,[["__scopeId","data-v-77df50a4"]]);const at={class:"full-height full-width"},ct=ue({__name:"PreviewScreenPage",setup(e){const o=Ae(),l=fe(me(le,"screens",`${o.params.id}`)),u=f(()=>l.value!=null?`col-${12/l.value.columns}`:""),i=f(()=>l.value!=null?{height:`${100/l.value.rows}%`}:""),t=f(()=>l.value!=null?Array.from({length:l.value.rows},(v,m)=>m+1):[]),n=f(()=>l.value!=null?Array.from({length:l.value.columns},(v,m)=>m+1):[]),r=f(()=>{if(l.value!=null){const v=[],m=l.value.presentations.map(c=>c.row+1),s=Math.max(...m);for(let c=1;c<=s;c++){const p=[...l.value.presentations.filter(g=>g.row==c-1)];v.push(p)}return v}else return[]});return(v,m)=>(_(),M(ce,{class:"row q-pa-md full-height"},{default:K(()=>[Be("div",at,[(_(!0),P(G,null,H(t.value,s=>(_(),P("div",{class:"row",key:s,style:Te(i.value)},[(_(!0),P(G,null,H(n.value,c=>(_(),P("div",{class:Ee(["full-height full-width",u.value]),key:c},[r.value.length>0&&r.value[s-1]&&r.value[s-1][c-1]?(_(),M(nt,{key:0,"presentation-id":r.value[s-1][c-1].presentationId},null,8,["presentation-id"])):Y("",!0)],2))),128))],4))),128))])]),_:1}))}});export{ct as default};
