import{g as nt,c as oe,a as w,h as p,e as ne,r as P,af as lt,x as ie,n as Be,u as ae,w as H,o as ye,f as Z,j as le,A as me,l as ve,aw as Ce,s as it,R as at,C as Pe,D as ze,ax as Ee,E as He,F as Le,ay as Oe,G as $e,az as Ae,H as Re,aA as Me,aB as rt,z as st,aC as ut,aD as ke,O as _e,aE as ct,an as Ne,aj as Fe,aF as dt,aG as ft,B as be,aH as ht,aI as mt,a6 as De,a7 as Y,y as We,aJ as je,aK as vt,m as gt,aL as pt}from"./index.f7cab669.js";import{c as ge}from"./slides.2a8483df.js";import{c as xe,b as yt}from"./useAuthValidations.0e7ef909.js";import{u as bt,a as wt,b as Ct}from"./QPage.a8baab2b.js";function Ie(e,t){if(t&&e===t)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i=n.display;return i==="block"||i==="table"?e:Ie(e.parentNode)}function fe(e,t,o){return!e||e===document.body?!1:o===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function Qe(e,t,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),t.count===0)o.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(o.setEnd(e,t.count),t.count=0);else for(let n=0;t.count!==0&&n<e.childNodes.length;n++)o=Qe(e.childNodes[n],t,o);return o}const kt=/^https?:\/\//;class xt{constructor(t,o){this.el=t,this.eVm=o,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(fe(t.anchorNode,this.el,!0)&&fe(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length>0:!1}get range(){const t=this.selection;return t!==null&&t.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const o=t.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?Ie(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const o=document.createRange(),n=document.getSelection();t!==null?(o.setStart(t.startContainer,t.startOffset),o.setEnd(t.endContainer,t.endOffset),n.removeAllRanges(),n.addRange(o)):(n.selectAllChildren(this.el),n.collapseToEnd())}savePosition(){let t=-1,o;const n=document.getSelection(),i=this.el.parentNode;if(n.focusNode&&fe(n.focusNode,i))for(o=n.focusNode,t=n.focusOffset;o&&o!==i;)o!==this.el&&o.previousSibling?(o=o.previousSibling,t+=o.textContent.length):o=o.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const o=window.getSelection(),n=Qe(this.el,{count:this.savedPos});n&&(n.collapse(!1),o.removeAllRanges(),o.addRange(n))}}hasParent(t,o){const n=o?this.parent:this.blockParent;return n!==null?n.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,o,n=this.parent){return n===null?!1:t.includes(n.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(t,o,n.parentNode):!1}is(t,o){if(this.selection===null)return!1;switch(t){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===o;case"fontName":const n=document.queryCommandValue(t);return n===`"${o}"`||n===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const i=document.queryCommandState(t);return o!==void 0?i===o:i}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,o,n=nt){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(t,o)&&(t="outdent",o=null),o==="PRE"&&this.is(t,"PRE")&&(o="P");else if(t==="print"){n();const i=window.open();i.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),i.print(),i.close();return}else if(t==="link"){const i=this.getParentAttribute("href");if(i===null){const u=this.selectWord(this.selection),a=u?u.toString():"";if(!a.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=kt.test(a)?a:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(u.getRangeAt(0))}else this.eVm.editLinkUrl.value=i,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),n();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),n();return}document.execCommand(t,!1,o),n()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const o=document.createRange();o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(t.focusNode,t.focusOffset);const n=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const i=t.focusNode,u=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",n[0],"character"),t.modify("move",n[1],"word"),t.extend(i,u),t.modify("extend",n[1],"character"),t.modify("extend",n[0],"word"),t}}var Tt=oe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const o=w(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${n.length>0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>p("div",{class:o.value},ne(t.default))}});const Ue={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Ke({showing:e,avoidEmit:t,configureAnchorEl:o}){const{props:n,proxy:i,emit:u}=le(),a=P(null);let c;function d(s){return a.value===null?!1:s===void 0||s.touches===void 0||s.touches.length<=1}const f={};o===void 0&&(Object.assign(f,{hide(s){i.hide(s)},toggle(s){i.toggle(s),s.qAnchorHandled=!0},toggleKey(s){lt(s,13)===!0&&f.toggle(s)},contextClick(s){i.hide(s),ie(s),Be(()=>{i.show(s),s.qAnchorHandled=!0})},prevent:ie,mobileTouch(s){if(f.mobileCleanup(s),d(s)!==!0)return;i.hide(s),a.value.classList.add("non-selectable");const k=s.target;ae(f,"anchor",[[k,"touchmove","mobileCleanup","passive"],[k,"touchend","mobileCleanup","passive"],[k,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),c=setTimeout(()=>{i.show(s),s.qAnchorHandled=!0},300)},mobileCleanup(s){a.value.classList.remove("non-selectable"),clearTimeout(c),e.value===!0&&s!==void 0&&ge()}}),o=function(s=n.contextMenu){if(n.noParentEvent===!0||a.value===null)return;let k;s===!0?i.$q.platform.is.mobile===!0?k=[[a.value,"touchstart","mobileTouch","passive"]]:k=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:k=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],ae(f,"anchor",k)});function h(){me(f,"anchor")}function C(s){for(a.value=s;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;o()}function v(){if(n.target===!1||n.target===""||i.$el.parentNode===null)a.value=null;else if(n.target===!0)C(i.$el.parentNode);else{let s=n.target;if(typeof n.target=="string")try{s=document.querySelector(n.target)}catch{s=void 0}s!=null?(a.value=s.$el||s,o()):(a.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return H(()=>n.contextMenu,s=>{a.value!==null&&(h(),o(s))}),H(()=>n.target,()=>{a.value!==null&&h(),v()}),H(()=>n.noParentEvent,s=>{a.value!==null&&(s===!0?h():o())}),ye(()=>{v(),t!==!0&&n.modelValue===!0&&a.value===null&&u("update:modelValue",!1)}),Z(()=>{clearTimeout(c),h()}),{anchorEl:a,canShow:d,anchorEvents:f}}function Ge(e,t){const o=P(null);let n;function i(c,d){const f=`${d!==void 0?"add":"remove"}EventListener`,h=d!==void 0?d:n;c!==window&&c[f]("scroll",h,ve.passive),window[f]("scroll",h,ve.passive),n=d}function u(){o.value!==null&&(i(o.value),o.value=null)}const a=H(()=>e.noParentEvent,()=>{o.value!==null&&(u(),t())});return Z(a),{localScrollTarget:o,unconfigureScrollTarget:u,changeScrollEvent:i}}let Xe;const{notPassiveCapture:re}=ve,j=[];function se(e){clearTimeout(Xe);const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let o=Ce.length-1;for(;o>=0;){const n=Ce[o].$;if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;o--}for(let n=j.length-1;n>=0;n--){const i=j[n];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Je(e){j.push(e),j.length===1&&(document.addEventListener("mousedown",se,re),document.addEventListener("touchstart",se,re))}function ue(e){const t=j.findIndex(o=>o===e);t>-1&&(j.splice(t,1),j.length===0&&(clearTimeout(Xe),document.removeEventListener("mousedown",se,re),document.removeEventListener("touchstart",se,re)))}let Te,Se;function ce(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Ye(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const pe={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{pe[`${e}#ltr`]=e,pe[`${e}#rtl`]=e});function de(e,t){const o=e.split(" ");return{vertical:o[0],horizontal:pe[`${o[1]}#${t===!0?"rtl":"ltr"}`]}}function St(e,t){let{top:o,left:n,right:i,bottom:u,width:a,height:c}=e.getBoundingClientRect();return t!==void 0&&(o-=t[1],n-=t[0],u+=t[1],i+=t[0],a+=t[0],c+=t[1]),{top:o,left:n,right:i,bottom:u,width:a,height:c,middle:n+(i-n)/2,center:o+(u-o)/2}}function qt(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Ze(e){if(it.is.ios===!0&&window.visualViewport!==void 0){const c=document.body.style,{offsetLeft:d,offsetTop:f}=window.visualViewport;d!==Te&&(c.setProperty("--q-pe-left",d+"px"),Te=d),f!==Se&&(c.setProperty("--q-pe-top",f+"px"),Se=f)}let t;const{scrollLeft:o,scrollTop:n}=e.el;if(e.absoluteOffset===void 0)t=St(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:c,left:d}=e.anchorEl.getBoundingClientRect(),f=c+e.absoluteOffset.top,h=d+e.absoluteOffset.left;t={top:f,left:h,width:1,height:1,right:h+1,center:f,middle:h,bottom:f+1}}let i={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(i.minWidth=t.width+"px",e.cover===!0&&(i.minHeight=t.height+"px")),Object.assign(e.el.style,i);const u=qt(e.el),a={top:t[e.anchorOrigin.vertical]-u[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-u[e.selfOrigin.horizontal]};Bt(a,t,u,e.anchorOrigin,e.selfOrigin),i={top:a.top+"px",left:a.left+"px"},a.maxHeight!==void 0&&(i.maxHeight=a.maxHeight+"px",t.height>a.maxHeight&&(i.minHeight=i.maxHeight)),a.maxWidth!==void 0&&(i.maxWidth=a.maxWidth+"px",t.width>a.maxWidth&&(i.minWidth=i.maxWidth)),Object.assign(e.el.style,i),e.el.scrollTop!==n&&(e.el.scrollTop=n),e.el.scrollLeft!==o&&(e.el.scrollLeft=o)}function Bt(e,t,o,n,i){const u=o.bottom,a=o.right,c=at(),d=window.innerHeight-c,f=document.body.clientWidth;if(e.top<0||e.top+u>d)if(i.vertical==="center")e.top=t[n.vertical]>d/2?Math.max(0,d-u):0,e.maxHeight=Math.min(u,d);else if(t[n.vertical]>d/2){const h=Math.min(d,n.vertical==="center"?t.center:n.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(u,h),e.top=Math.max(0,h-u)}else e.top=Math.max(0,n.vertical==="center"?t.center:n.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(u,d-e.top);if(e.left<0||e.left+a>f)if(e.maxWidth=Math.min(a,f),i.horizontal==="middle")e.left=t[n.horizontal]>f/2?Math.max(0,f-a):0;else if(t[n.horizontal]>f/2){const h=Math.min(f,n.horizontal==="middle"?t.middle:n.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(a,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?t.middle:n.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(a,f-e.left)}var Pt=oe({name:"QMenu",inheritAttrs:!1,props:{...Ue,...Pe,...ze,...Ee,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ce},self:{type:String,validator:ce},offset:{type:Array,validator:Ye},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...He,"click","escape-key"],setup(e,{slots:t,emit:o,attrs:n}){let i=null,u,a,c;const d=le(),{proxy:f}=d,{$q:h}=f,C=P(null),v=P(!1),s=w(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),k=Le(e,h),{registerTick:q,removeTick:z}=Oe(),{registerTimeout:B}=$e(),{transition:m,transitionStyle:R}=Ae(e,v),{localScrollTarget:I,changeScrollEvent:S,unconfigureScrollTarget:Q}=Ge(e,b),{anchorEl:y,canShow:V}=Ke({showing:v}),{hide:A}=Re({showing:v,canShow:V,handleShow:X,handleHide:J,hideOnRouteChange:s,processOnMount:!0}),{showPortal:M,hidePortal:_,renderPortal:ee}=Me(d,C,r),N={anchorEl:y,innerRef:C,onClickOutside(l){if(e.persistent!==!0&&v.value===!0)return A(l),(l.type==="touchstart"||l.target.classList.contains("q-dialog__backdrop"))&&be(l),!0}},U=w(()=>de(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),K=w(()=>e.cover===!0?U.value:de(e.self||"top start",h.lang.rtl)),O=w(()=>(e.square===!0?" q-menu--square":"")+(k.value===!0?" q-menu--dark q-dark":"")),te=w(()=>e.autoClose===!0?{onClick:$}:{}),G=w(()=>v.value===!0&&e.persistent!==!0);H(G,l=>{l===!0?(dt(L),Je(N)):(ke(L),ue(N))});function F(){Fe(()=>{let l=C.value;l&&l.contains(document.activeElement)!==!0&&(l=l.querySelector("[autofocus], [data-autofocus]")||l,l.focus({preventScroll:!0}))})}function X(l){if(i=e.noRefocus===!1?document.activeElement:null,rt(x),M(),b(),u=void 0,l!==void 0&&(e.touchPosition||e.contextMenu)){const g=st(l);if(g.left!==void 0){const{top:T,left:E}=y.value.getBoundingClientRect();u={left:g.left-E,top:g.top-T}}}a===void 0&&(a=H(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,W)),e.noFocus!==!0&&document.activeElement.blur(),q(()=>{W(),e.noFocus!==!0&&F()}),B(()=>{h.platform.is.ios===!0&&(c=e.autoClose,C.value.click()),W(),M(!0),o("show",l)},e.transitionDuration)}function J(l){z(),_(),D(!0),i!==null&&(l===void 0||l.qClickOutside!==!0)&&(i.focus(),i=null),B(()=>{_(!0),o("hide",l)},e.transitionDuration)}function D(l){u=void 0,a!==void 0&&(a(),a=void 0),(l===!0||v.value===!0)&&(ut(x),Q(),ue(N),ke(L)),l!==!0&&(i=null)}function b(){(y.value!==null||e.scrollTarget!==void 0)&&(I.value=_e(y.value,e.scrollTarget),S(I.value,W))}function $(l){c!==!0?(ct(f,l),o("click",l)):c=!1}function x(l){G.value===!0&&e.noFocus!==!0&&ft(C.value,l.target)!==!0&&F()}function L(l){o("escape-key"),A(l)}function W(){const l=C.value;l===null||y.value===null||Ze({el:l,offset:e.offset,anchorEl:y.value,anchorOrigin:U.value,selfOrigin:K.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function r(){return p(Ne,{name:m.value,appear:!0},()=>v.value===!0?p("div",{role:"menu",...n,ref:C,tabindex:-1,class:["q-menu q-position-engine scroll"+O.value,n.class],style:[n.style,R.value],...te.value},ne(t.default)):null)}return Z(D),Object.assign(f,{focus:F,updatePosition:W}),ee}}),zt=oe({name:"QBtnDropdown",props:{...ht,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(e,{slots:t,emit:o}){const{proxy:n}=le(),i=P(e.modelValue),u=P(null),a=mt(),c=w(()=>{const m={"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":a,"aria-owns":a,"aria-label":e.toggleAriaLabel||n.$q.lang.label[i.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(m["aria-disabled"]="true"),m}),d=w(()=>"q-btn-dropdown__arrow"+(i.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":""));H(()=>e.modelValue,m=>{u.value!==null&&u.value[m?"show":"hide"]()}),H(()=>e.split,B);function f(m){i.value=!0,o("before-show",m)}function h(m){o("show",m),o("update:modelValue",!0)}function C(m){i.value=!1,o("before-hide",m)}function v(m){o("hide",m),o("update:modelValue",!1)}function s(m){o("click",m)}function k(m){We(m),B(),o("click",m)}function q(m){u.value!==null&&u.value.toggle(m)}function z(m){u.value!==null&&u.value.show(m)}function B(m){u.value!==null&&u.value.hide(m)}return Object.assign(n,{show:z,hide:B,toggle:q}),ye(()=>{e.modelValue===!0&&z()}),()=>{const m=[p(De,{class:d.value,name:e.dropdownIcon||n.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&m.push(p(Pt,{ref:u,id:a,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,onBeforeShow:f,onShow:h,onBeforeHide:C,onHide:v},t.default)),e.split===!1?p(Y,{class:"q-btn-dropdown q-btn-dropdown--simple",...e,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,...c.value,onClick:s},{default:()=>ne(t.label,[]).concat(m),loading:t.loading}):p(Tt,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",outline:e.outline,flat:e.flat,rounded:e.rounded,square:e.square,push:e.push,unelevated:e.unelevated,glossy:e.glossy,stretch:e.stretch},()=>[p(Y,{class:"q-btn-dropdown--current",...e,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,iconRight:e.iconRight,round:!1,onClick:k},{default:t.label,loading:t.loading}),p(Y,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...c.value,disable:e.disable===!0||e.disableDropdown===!0,outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,size:e.size,color:e.color,textColor:e.textColor,dense:e.dense,ripple:e.ripple},()=>m)])}}}),Et=oe({name:"QTooltip",inheritAttrs:!1,props:{...Ue,...Pe,...Ee,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ce},self:{type:String,default:"top middle",validator:ce},offset:{type:Array,default:()=>[14,14],validator:Ye},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...He],setup(e,{slots:t,emit:o,attrs:n}){let i,u;const a=le(),{proxy:{$q:c}}=a,d=P(null),f=P(!1),h=w(()=>de(e.anchor,c.lang.rtl)),C=w(()=>de(e.self,c.lang.rtl)),v=w(()=>e.persistent!==!0),{registerTick:s,removeTick:k}=Oe(),{registerTimeout:q}=$e(),{transition:z,transitionStyle:B}=Ae(e,f),{localScrollTarget:m,changeScrollEvent:R,unconfigureScrollTarget:I}=Ge(e,X),{anchorEl:S,canShow:Q,anchorEvents:y}=Ke({showing:f,configureAnchorEl:F}),{show:V,hide:A}=Re({showing:f,canShow:Q,handleShow:N,handleHide:U,hideOnRouteChange:v,processOnMount:!0});Object.assign(y,{delayShow:te,delayHide:G});const{showPortal:M,hidePortal:_,renderPortal:ee}=Me(a,d,D);if(c.platform.is.mobile===!0){const b={anchorEl:S,innerRef:d,onClickOutside(x){return A(x),x.target.classList.contains("q-dialog__backdrop")&&be(x),!0}},$=w(()=>e.modelValue===null&&e.persistent!==!0&&f.value===!0);H($,x=>{(x===!0?Je:ue)(b)}),Z(()=>{ue(b)})}function N(b){M(),s(()=>{u=new MutationObserver(()=>O()),u.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),O(),X()}),i===void 0&&(i=H(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,O)),q(()=>{M(!0),o("show",b)},e.transitionDuration)}function U(b){k(),_(),K(),q(()=>{_(!0),o("hide",b)},e.transitionDuration)}function K(){u!==void 0&&(u.disconnect(),u=void 0),i!==void 0&&(i(),i=void 0),I(),me(y,"tooltipTemp")}function O(){const b=d.value;S.value===null||!b||Ze({el:b,offset:e.offset,anchorEl:S.value,anchorOrigin:h.value,selfOrigin:C.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function te(b){if(c.platform.is.mobile===!0){ge(),document.body.classList.add("non-selectable");const $=S.value,x=["touchmove","touchcancel","touchend","click"].map(L=>[$,L,"delayHide","passiveCapture"]);ae(y,"tooltipTemp",x)}q(()=>{V(b)},e.delay)}function G(b){c.platform.is.mobile===!0&&(me(y,"tooltipTemp"),ge(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),q(()=>{A(b)},e.hideDelay)}function F(){if(e.noParentEvent===!0||S.value===null)return;const b=c.platform.is.mobile===!0?[[S.value,"touchstart","delayShow","passive"]]:[[S.value,"mouseenter","delayShow","passive"],[S.value,"mouseleave","delayHide","passive"]];ae(y,"anchor",b)}function X(){if(S.value!==null||e.scrollTarget!==void 0){m.value=_e(S.value,e.scrollTarget);const b=e.noParentEvent===!0?O:A;R(m.value,b)}}function J(){return f.value===!0?p("div",{...n,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,B.value],role:"complementary"},ne(t.default)):null}function D(){return p(Ne,{name:z.value,appear:!0},J)}return Z(K),Object.assign(a.proxy,{updatePosition:O}),ee}});function Ve(e,t,o){t.handler?t.handler(e,o,o.caret):o.runCmd(t.cmd,t.param)}function we(e){return p("div",{class:"q-editor__toolbar-group"},e)}function et(e,t,o,n=!1){const i=n||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),u=[];if(t.tip&&e.$q.platform.is.desktop){const a=t.key?p("div",[p("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;u.push(p(Et,{delay:1e3},()=>[p("div",{innerHTML:t.tip}),a]))}return p(Y,{...e.buttonProps.value,icon:t.icon!==null?t.icon:void 0,color:i?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:i&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(a){o&&o(),Ve(a,t,e)}},()=>u)}function Ht(e,t){const o=t.list==="only-icons";let n=t.label,i=t.icon!==null?t.icon:void 0,u,a;function c(){f.component.proxy.hide()}if(o)a=t.options.map(h=>{const C=h.type===void 0?e.caret.is(h.cmd,h.param):!1;return C&&(n=h.tip,i=h.icon!==null?h.icon:void 0),et(e,h,c,C)}),u=e.toolbarBackgroundClass.value,a=[we(a)];else{const h=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,C=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,v=t.list==="no-icons";a=t.options.map(s=>{const k=s.disable?s.disable(e):!1,q=s.type===void 0?e.caret.is(s.cmd,s.param):!1;q&&(n=s.tip,i=s.icon!==null?s.icon:void 0);const z=s.htmlTip;return p(yt,{active:q,activeClass:h,clickable:!0,disable:k,dense:!0,onClick(B){c(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),Ve(B,s,e)}},()=>[v===!0?null:p(xe,{class:q?h:C,side:!0},()=>p(De,{name:s.icon!==null?s.icon:void 0})),p(xe,z?()=>p("div",{class:"text-no-wrap",innerHTML:s.htmlTip}):s.tip?()=>p("div",{class:"text-no-wrap"},s.tip):void 0)])}),u=[e.toolbarBackgroundClass.value,C]}const d=t.highlight&&n!==t.label,f=p(zt,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:d?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:d&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:n,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:i,contentClass:u},()=>a);return f}function Lt(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(o=>o.cmd==="viewsource")).map(t=>we(t.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?ne(e.slots[o.slot]):o.type==="dropdown"?Ht(e,o):et(e,o))))}function Ot(e,t,o,n={}){const i=Object.keys(n);if(i.length===0)return{};const u={default_font:{cmd:"fontName",param:e,icon:o,tip:t}};return i.forEach(a=>{const c=n[a];u[a]={cmd:"fontName",param:c,icon:o,tip:c,htmlTip:`<font face="${c}">${c}</font>`}}),u}function $t(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const n=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[p("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),p("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:i=>{We(i),o=i.target.value},onKeydown:i=>{if(je(i)!==!0)switch(i.keyCode){case 13:return ie(i),n();case 27:ie(i),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),we([p(Y,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),p(Y,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:n})])]}}const At=Object.prototype.toString,he=Object.prototype.hasOwnProperty,Rt=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function qe(e){if(e!==Object(e)||Rt.has(At.call(e))===!0||e.constructor&&he.call(e,"constructor")===!1&&he.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let t;for(t in e);return t===void 0||he.call(e,t)}function tt(){let e,t,o,n,i,u,a=arguments[0]||{},c=1,d=!1;const f=arguments.length;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},c=2),Object(a)!==a&&typeof a!="function"&&(a={}),f===c&&(a=this,c--);c<f;c++)if((e=arguments[c])!==null)for(t in e)o=a[t],n=e[t],a!==n&&(d===!0&&n&&((i=Array.isArray(n))||qe(n)===!0)?(i===!0?u=Array.isArray(o)===!0?o:[]:u=qe(o)===!0?o:{},a[t]=tt(d,u,n)):n!==void 0&&(a[t]=n));return a}var Dt=oe({name:"QEditor",props:{...ze,...bt,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...wt,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur"],setup(e,{slots:t,emit:o,attrs:n}){const{proxy:i,vnode:u}=le(),{$q:a}=i,c=Le(e,a),{inFullscreen:d,toggleFullscreen:f}=Ct(),h=vt(n,u),C=P(null),v=P(null),s=P(null),k=P(!1),q=w(()=>!e.readonly&&!e.disable);let z,B,m=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),z=window.getComputedStyle(document.body).fontFamily;const R=w(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),I=w(()=>{const r=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:r,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!q.value,size:"sm"}}),S=w(()=>{const r=a.lang.editor,l=a.iconSet.editor;return{bold:{cmd:"bold",icon:l.bold,tip:r.bold,key:66},italic:{cmd:"italic",icon:l.italic,tip:r.italic,key:73},strike:{cmd:"strikeThrough",icon:l.strikethrough,tip:r.strikethrough,key:83},underline:{cmd:"underline",icon:l.underline,tip:r.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:l.unorderedList,tip:r.unorderedList},ordered:{cmd:"insertOrderedList",icon:l.orderedList,tip:r.orderedList},subscript:{cmd:"subscript",icon:l.subscript,tip:r.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:l.superscript,tip:r.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:g=>g.caret&&!g.caret.can("link"),icon:l.hyperlink,tip:r.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:l.toggleFullscreen,tip:r.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:l.viewSource,tip:r.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:l.quote,tip:r.quote,key:81},left:{cmd:"justifyLeft",icon:l.left,tip:r.left},center:{cmd:"justifyCenter",icon:l.center,tip:r.center},right:{cmd:"justifyRight",icon:l.right,tip:r.right},justify:{cmd:"justifyFull",icon:l.justify,tip:r.justify},print:{type:"no-state",cmd:"print",icon:l.print,tip:r.print,key:80},outdent:{type:"no-state",disable:g=>g.caret&&!g.caret.can("outdent"),cmd:"outdent",icon:l.outdent,tip:r.outdent},indent:{type:"no-state",disable:g=>g.caret&&!g.caret.can("indent"),cmd:"indent",icon:l.indent,tip:r.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:l.removeFormat,tip:r.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:l.hr,tip:r.hr},undo:{type:"no-state",cmd:"undo",icon:l.undo,tip:r.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:l.redo,tip:r.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:l.heading1||l.heading,tip:r.heading1,htmlTip:`<h1 class="q-ma-none">${r.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:l.heading2||l.heading,tip:r.heading2,htmlTip:`<h2 class="q-ma-none">${r.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:l.heading3||l.heading,tip:r.heading3,htmlTip:`<h3 class="q-ma-none">${r.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:l.heading4||l.heading,tip:r.heading4,htmlTip:`<h4 class="q-ma-none">${r.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:l.heading5||l.heading,tip:r.heading5,htmlTip:`<h5 class="q-ma-none">${r.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:l.heading6||l.heading,tip:r.heading6,htmlTip:`<h6 class="q-ma-none">${r.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:l.heading,tip:r.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:l.code,htmlTip:`<code>${r.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:l.size1||l.size,tip:r.size1,htmlTip:`<font size="1">${r.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:l.size2||l.size,tip:r.size2,htmlTip:`<font size="2">${r.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:l.size3||l.size,tip:r.size3,htmlTip:`<font size="3">${r.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:l.size4||l.size,tip:r.size4,htmlTip:`<font size="4">${r.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:l.size5||l.size,tip:r.size5,htmlTip:`<font size="5">${r.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:l.size6||l.size,tip:r.size6,htmlTip:`<font size="6">${r.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:l.size7||l.size,tip:r.size7,htmlTip:`<font size="7">${r.size7}</font>`}}}),Q=w(()=>{const r=e.definitions||{},l=e.definitions||e.fonts?tt(!0,{},S.value,r,Ot(z,a.lang.editor.defaultFont,a.iconSet.editor.font,e.fonts)):S.value;return e.toolbar.map(g=>g.map(T=>{if(T.options)return{type:"dropdown",icon:T.icon,label:T.label,size:"sm",dense:!0,fixedLabel:T.fixedLabel,fixedIcon:T.fixedIcon,highlight:T.highlight,list:T.list,options:T.options.map(ot=>l[ot])};const E=l[T];return E?E.type==="no-state"||r[T]&&(E.cmd===void 0||S.value[E.cmd]&&S.value[E.cmd].type==="no-state")?E:Object.assign({type:"toggle"},E):{type:"slot",slot:T}}))}),y={$q:a,props:e,slots:t,inFullscreen:d,toggleFullscreen:f,runCmd:$,isViewingSource:k,editLinkUrl:s,toolbarBackgroundClass:R,buttonProps:I,contentRef:v,buttons:Q,setContent:b};H(()=>e.modelValue,r=>{m!==r&&(m=r,b(r,!0))});const V=w(()=>e.toolbar&&e.toolbar.length>0),A=w(()=>{const r={},l=g=>{g.key&&(r[g.key]={cmd:g.cmd,param:g.param})};return Q.value.forEach(g=>{g.forEach(T=>{T.options?T.options.forEach(l):l(T)})}),r}),M=w(()=>d.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),_=w(()=>`q-editor q-editor--${k.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(d.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(c.value===!0?" q-editor--dark q-dark":"")),ee=w(()=>[e.contentClass,"q-editor__content",{col:d.value,"overflow-auto":d.value||e.maxHeight}]),N=w(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});function U(){if(v.value!==null){const r=`inner${k.value===!0?"Text":"HTML"}`,l=v.value[r];l!==e.modelValue&&(m=l,o("update:modelValue",l))}}function K(r){if(o("keydown",r),r.ctrlKey!==!0||je(r)===!0){x();return}const l=r.keyCode,g=A.value[l];if(g!==void 0){const{cmd:T,param:E}=g;be(r),$(T,E,!1)}}function O(r){x(),o("click",r)}function te(r){if(v.value!==null){const{scrollTop:l,scrollHeight:g}=v.value;B=g-l}y.caret.save(),o("blur",r)}function G(r){Be(()=>{v.value!==null&&B!==void 0&&(v.value.scrollTop=v.value.scrollHeight-B)}),o("focus",r)}function F(r){const l=C.value;if(l!==null&&l.contains(r.target)===!0&&(r.relatedTarget===null||l.contains(r.relatedTarget)!==!0)){const g=`inner${k.value===!0?"Text":"HTML"}`;y.caret.restorePosition(v.value[g].length),x()}}function X(r){const l=C.value;l!==null&&l.contains(r.target)===!0&&(r.relatedTarget===null||l.contains(r.relatedTarget)!==!0)&&(y.caret.savePosition(),x())}function J(){B=void 0}function D(r){y.caret.save()}function b(r,l){if(v.value!==null){l===!0&&y.caret.savePosition();const g=`inner${k.value===!0?"Text":"HTML"}`;v.value[g]=r,l===!0&&(y.caret.restorePosition(v.value[g].length),x())}}function $(r,l,g=!0){L(),y.caret.restore(),y.caret.apply(r,l,()=>{L(),y.caret.save(),g&&x()})}function x(){setTimeout(()=>{s.value=null,i.$forceUpdate()},1)}function L(){Fe(()=>{v.value!==null&&v.value.focus({preventScroll:!0})})}function W(){return v.value}return ye(()=>{y.caret=i.caret=new xt(v.value,y),b(e.modelValue),x(),document.addEventListener("selectionchange",D)}),Z(()=>{document.removeEventListener("selectionchange",D)}),Object.assign(i,{runCmd:$,refreshToolbar:x,focus:L,getContentEl:W}),()=>{let r;if(V.value){const l=[p("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+R.value},Lt(y))];s.value!==null&&l.push(p("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+R.value},$t(y))),r=p("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},l)}return p("div",{ref:C,class:_.value,style:{height:d.value===!0?"100%":null},...N.value,onFocusin:F,onFocusout:X},[r,p("div",{ref:v,style:M.value,class:ee.value,contenteditable:q.value,placeholder:e.placeholder,...h.listeners.value,onInput:U,onKeydown:K,onClick:O,onBlur:te,onFocus:G,onMousedown:J,onTouchstartPassive:J})])}}});function Wt(){return gt(pt)}export{Dt as Q,Wt as u};
